---
import { isDev } from "../../utils/environment";
import "../../styles/global.css";

// Get site info
import siteConfig from "../../config/site.json";

interface Props {
  title?: string;
  activeItem?: string;
}

const { title = "Portfolio Studio", activeItem = "dashboard" } = Astro.props;
---

<!doctype html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title} | {siteConfig.name}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="min-h-screen bg-base-900 text-base-content font-mono">
    <div class="drawer lg:drawer-open">
      <input id="studio-drawer" type="checkbox" class="drawer-toggle" />

      <div class="drawer-content flex flex-col">
        <!-- Navbar -->
        <header class="navbar bg-base-200 shadow-md">
          <div class="flex-none lg:hidden">
            <label for="studio-drawer" class="btn btn-square btn-ghost">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                class="inline-block w-6 h-6 stroke-current"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"></path>
              </svg>
            </label>
          </div>
          <div class="flex-1 px-2 mx-2 font-bold text-primary">
            {siteConfig.name} Studio
          </div>
          <div class="flex-none">
            <a href="/" class="btn btn-ghost btn-sm"> View Site </a>
          </div>
        </header>

        <!-- Main content -->
        <main class="flex-1 p-6 overflow-y-auto">
          <div class="max-w-6xl mx-auto">
            <slot />
          </div>
        </main>

        <!-- Footer -->
        <footer class="footer footer-center p-4 bg-base-200 text-base-content">
          <div>
            <p>Studio Mode - Development Only</p>
          </div>
        </footer>
      </div>

      <!-- Sidebar -->
      <div class="drawer-side">
        <label
          for="studio-drawer"
          aria-label="close sidebar"
          class="drawer-overlay"></label>
        <ul class="menu p-4 w-64 min-h-full bg-base-300 text-base-content">
          <li class="menu-title mb-2">
            <span class="font-bold text-lg">Studio</span>
          </li>
          <li class={activeItem === "dashboard" ? "bordered" : ""}>
            <a href="/studio" class="flex gap-2 items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-5 h-5"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <rect x="3" y="3" width="7" height="7"></rect>
                <rect x="14" y="3" width="7" height="7"></rect>
                <rect x="14" y="14" width="7" height="7"></rect>
                <rect x="3" y="14" width="7" height="7"></rect>
              </svg>
              Dashboard
            </a>
          </li>
          <li class="menu-title mt-4">
            <span>Content</span>
          </li>
          <li class={activeItem === "projects" ? "bordered" : ""}>
            <a href="/studio/projects" class="flex gap-2 items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-5 h-5"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path
                  d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"
                ></path>
              </svg>
              Projects
            </a>
          </li>
          <li class={activeItem === "blog" ? "bordered" : ""}>
            <a href="/studio/blog" class="flex gap-2 items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-5 h-5"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path
                  d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"
                ></path>
                <path
                  d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"
                ></path>
              </svg>
              Blog Posts
            </a>
          </li>
          <li class="menu-title mt-4">
            <span>Configuration</span>
          </li>

          <li class={activeItem === "skills" ? "bordered" : ""}>
            <a href="/studio/skills" class="flex gap-2 items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-5 h-5"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path
                  d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"
                ></path>
              </svg>
              Skills Settings
            </a>
          </li>
          <li class={activeItem === "site" ? "bordered" : ""}>
            <a href="/studio/site" class="flex gap-2 items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-5 h-5"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20z"></path>
                <path d="M12 9v6"></path>
                <path d="M9 12h6"></path>
              </svg>
              Site Settings
            </a>
          </li>
          <li class={activeItem === "theme" ? "bordered" : ""}>
            <a href="/studio/theme" class="flex gap-2 items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-5 h-5"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path
                  d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.7071-.7071M6.34315 6.34315l-.70711-.70711m12.72796.00005-.7071.70711M6.3432 17.6569l-.70711.7071M16 12c0 2.2091-1.7909 4-4 4-2.20914 0-4-1.7909-4-4 0-2.20914 1.79086-4 4-4 2.2091 0 4 1.79086 4 4z"
                ></path>
              </svg>
              Theme Settings
            </a>
          </li>
          <li class={activeItem === "deploy" ? "bordered" : ""}>
            <a href="/studio/deploy" class="flex gap-2 items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-5 h-5"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <polyline points="16 16 12 12 8 16"></polyline>
                <line x1="12" y1="12" x2="12" y2="21"></line>
                <path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"
                ></path>
                <polyline points="16 16 12 12 8 16"></polyline>
              </svg>
              Deploy Settings
            </a>
          </li>
        </ul>
      </div>
    </div>
  </body>
</html>
